# VMware parameters:
esxi_hostname: 10.10.10.7
vcenter_hostname: 10.10.10.7
vcenter_username: root
vcenter_password: password
vcenter_datacenter: Datacenter

# Conversion host parameters:
vddk_libdir: /usr/lib/vmware-vix-disklib
already_deploy_conversion_host: true

# OpenStack destination cloud auth parameters:
os_cloud_environ: psi-rhos-upgrades-ci
dst_cloud:
  auth:
    auth_url: https://openstack.dst.cloud:13000/v3
    username: tenant
    project_id: 3266192cfb2846e9bcb16ceab82bbe65
    project_name: migration
    user_domain_name: osm.com
    password: password
  region_name: regionOne
  interface: public
  identity_api_version: 3

# OpenStack migration parameters:
# Use mapped networks or not:
used_mapped_networks: false
# Subnet UUID to use for unmapped networks when used_mapped_networks is false
# and use_fixed_ips is set to true:
use_fixed_ips: true
export_metadata_subnet_uuid: "73ef65b0-8e35-43ac-9fd4-1e191c66dc74"

# Network mapping from VMware to OpenStack when used_mapped_networks is true
network_map:
  # Map network from vmware to current openstack networks
  "VM Network": "public"

# If you want to use fixed IPs from the VMware VMs with network mapping,
# you can map the VMware networks to OpenStack subnets like this:
# network_map:
#   "VM Network": "public,73ef65b0-8e35-43ac-9fd4-1e191c66dc74"

# @TODO: set value as dict or detect the OS type directly with VMware
# vms_list:
#   name: rhel-1, os_type: rhel
# For rhel family system (rhel and centos 8 and 9)
# you need to set this option to true for setting the
# correct udev rules:
os_migrate_configure_network: true

# If no mapped network then set the openstack network:
openstack_private_network: provider_network_1

# Security groups for the instance:
security_groups: 4f077e64-bdf6-4d2a-9f2c-c5588f4948ce
use_existing_flavor: true

os_migrate_create_network_port: true

# OS-migrate parameters:
# osm working directory:
os_migrate_vmw_data_dir: /opt/os-migrate

# Set this to true if the Openstack "dst_cloud" is a clouds.yaml file
# other, if the dest_cloud is a dict of authentication parameters, set
# this to false:
copy_openstack_credentials_to_conv_host: false

# Teardown
# Set to true if you want osm to delete everything on the destination cloud.
os_migrate_tear_down: true

# VMs list
vms_list:
  - rhel-1
  - rhel-2

# Cinder volume type to use for the converted volumes.
# Migration to an encrypted volume type may result in a non-functional disk!
cinder_volume_type: __DEFAULT__

# # Mapping between VMware datastore names and OpenStack volume types.
# # In this example:
# # - disks in datastore1 will be created in volumes of type volume_type_1
# # - disks in datastore2 will be created in volumes of type volume_type_2
# # - disks in other datastores, will default to the value of cinder_volume_type.
# volume_type_mapping:
#    - vmware_datastore: datastore1
#      openstack_type: volume_type_1
#    - vmware_datastore: datastore2
#      openstack_type: volume_type_2

# Availability zone settings for the converted volumes and instances
# These can be set separately or via a single `availability_zone` var
#
# If cross-az volume attachments are disabled, the conversion host instance
# MUST be in the same availability zone as the converted volume. Otherwise
# conversion will quietly hang due to the failed attachment.
#
availability_zone: nova
# import_workloads_cinder_availability_zone: nova-zone1
# import_workloads_nova_availability_zone: cinder-zone1
